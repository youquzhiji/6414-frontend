var b=Object.defineProperty;var $=(s,e,o)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;var l=(s,e,o)=>($(s,typeof e!="symbol"?e+"":e,o),o);import{d as f,c as _,a as d,b as p,w as m,F as C,e as h,r as v,o as g,V as T,E as k,p as D,f as A,g as H,h as I,i as L,j as M}from"./vendor.8cc6d8fd.js";const N=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};N();const S=h("Home"),E=h(" | "),F=h("About"),O=f({setup(s){return(e,o)=>{const n=v("router-link"),t=v("router-view");return g(),_(C,null,[d("p",null,[p(n,{class:"rlink",to:"/"},{default:m(()=>[S]),_:1}),E,p(n,{class:"rlink",to:"/about"},{default:m(()=>[F]),_:1})]),p(t)],64)}}});class V{constructor(e){l(this,"el");l(this,"ctx");l(this,"w");l(this,"h");this.el=e,this.ctx=e.getContext("2d");const o=window.getComputedStyle(e);this.w=e.width=parseInt(o.width.replace("px","")),this.h=e.height=parseInt(o.height.replace("px","")),this.drawGrid()}drawGrid(){this.ctx.moveTo(0,this.h/2),this.ctx.lineTo(this.w,this.h/2),this.ctx.stroke()}drawAudio(e){const o=e.getChannelData(0),n=o.slice().sort(),t=n[0],r=n[n.length-1],a=e.length/this.w;console.log(t,r);for(let i=0;i<this.w;i++){const u=o.slice(i*a,(i+1)*a).sort(),w=u[0],y=u[u.length-1],c=this.h/2;this.ctx.moveTo(i,c-y*c),this.ctx.lineTo(i,c),this.ctx.stroke(),this.ctx.moveTo(i,c-w*c),this.ctx.lineTo(i,c),this.ctx.stroke()}}}var B=(s,e)=>{const o=s.__vccOpts||s;for(const[n,t]of e)o[n]=t;return o};class W extends T{constructor(){super(...arguments);l(this,"waveformCanvas")}mounted(){console.log("Hi"),this.waveformCanvas=new V(this.$refs.canvas)}async onDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.items)for(let o=0;o<e.dataTransfer.items.length;o++){const n=e.dataTransfer.items[o];if(n.kind=="file"){const t=n.getAsFile();console.log(`File Dropped: ${t.name}
- LastModified: ${t.lastModified}
- Size: ${t.size}
- Type: ${t.type}`);const r=await t.arrayBuffer(),i=await new AudioContext().decodeAudioData(r);this.waveformCanvas.drawAudio(i),console.log(i)}else k.error(`Error: The item dropped must be a file, not a ${n.kind}`)}}}const j=W,x=s=>(D("data-v-167fb1b5"),s=s(),A(),s),z={id:"home"},G=x(()=>d("div",{class:"usage"}," Welcome to the ",-1)),P=x(()=>d("span",{class:"drop-label"},"Drop Here",-1)),q=[P],K={class:"waveform"},R={ref:"canvas"};function J(s,e,o,n,t,r){return g(),_("div",z,[G,d("div",{class:"drop-box unselectable",onDragover:e[0]||(e[0]=a=>a.preventDefault()),onDrop:e[1]||(e[1]=(...a)=>s.onDrop&&s.onDrop(...a))},q,32),d("div",K,[d("canvas",R,null,512)])])}var Q=B(j,[["render",J],["__scopeId","data-v-167fb1b5"]]);const U=f({setup(s){return(e,o)=>" This is an about page. "}}),X=[{path:"/",name:"Home",component:Q},{path:"/about",name:"About",component:U}],Y=H({history:I(),routes:X});L(O).use(Y).use(M).mount("#app");
