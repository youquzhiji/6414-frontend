var w=Object.defineProperty;var x=(r,e,o)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var i=(r,e,o)=>(x(r,typeof e!="symbol"?e+"":e,o),o);import{d as p,c as f,a as c,b as l,w as h,F as y,e as u,r as _,o as m,V as b,E as $,p as C,f as T,g as k,h as D,i as A,j as H}from"./vendor.8cc6d8fd.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}};I();const L=u("Home"),M=u(" | "),N=u("About"),S=p({setup(r){return(e,o)=>{const n=_("router-link"),t=_("router-view");return m(),f(y,null,[c("p",null,[l(n,{class:"rlink",to:"/"},{default:h(()=>[L]),_:1}),M,l(n,{class:"rlink",to:"/about"},{default:h(()=>[N]),_:1})]),l(t)],64)}}});class E{constructor(e){i(this,"el");i(this,"ctx");i(this,"w");i(this,"h");this.el=e,this.ctx=e.getContext("2d");const o=window.getComputedStyle(e);this.w=e.width=parseInt(o.width.replace("px","")),this.h=e.height=parseInt(o.height.replace("px","")),this.drawGrid()}drawGrid(){this.ctx.moveTo(0,this.h/2),this.ctx.lineTo(this.w,this.h/2),this.ctx.stroke()}drawAudio(e){const o=e.getChannelData(0),n=e.length/this.w,t=this.h/2;for(let s=0;s<this.w;s++){const a=o.slice(s*n,(s+1)*n).sort(),d=a[0],g=a[a.length-1];this.ctx.moveTo(s,t-g*t),this.ctx.lineTo(s,t-d*t),this.ctx.stroke()}}}var F=(r,e)=>{const o=r.__vccOpts||r;for(const[n,t]of e)o[n]=t;return o};class O extends b{constructor(){super(...arguments);i(this,"waveformCanvas")}mounted(){console.log("Hi"),this.waveformCanvas=new E(this.$refs.canvas)}async onDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.items)for(let o=0;o<e.dataTransfer.items.length;o++){const n=e.dataTransfer.items[o];if(n.kind=="file"){const t=n.getAsFile();console.log(`File Dropped: ${t.name}
- LastModified: ${t.lastModified}
- Size: ${t.size}
- Type: ${t.type}`);const s=await t.arrayBuffer(),d=await new AudioContext().decodeAudioData(s);this.waveformCanvas.drawAudio(d),console.log(d)}else $.error(`Error: The item dropped must be a file, not a ${n.kind}`)}}}const V=O,v=r=>(C("data-v-167fb1b5"),r=r(),T(),r),B={id:"home"},W=v(()=>c("div",{class:"usage"}," Welcome to the ",-1)),j=v(()=>c("span",{class:"drop-label"},"Drop Here",-1)),z=[j],G={class:"waveform"},P={ref:"canvas"};function q(r,e,o,n,t,s){return m(),f("div",B,[W,c("div",{class:"drop-box unselectable",onDragover:e[0]||(e[0]=a=>a.preventDefault()),onDrop:e[1]||(e[1]=(...a)=>r.onDrop&&r.onDrop(...a))},z,32),c("div",G,[c("canvas",P,null,512)])])}var K=F(V,[["render",q],["__scopeId","data-v-167fb1b5"]]);const R=p({setup(r){return(e,o)=>" This is an about page. "}}),J=[{path:"/",name:"Home",component:K},{path:"/about",name:"About",component:R}],Q=k({history:D(),routes:J});A(S).use(Q).use(H).mount("#app");
