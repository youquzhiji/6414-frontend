var $=Object.defineProperty;var b=(o,e,s)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var l=(o,e,s)=>(b(o,typeof e!="symbol"?e+"":e,s),s);import{d as h,c as _,a as d,b as p,w as m,F as T,e as f,r as v,o as g,V as k,E as C,p as D,f as A,g as H,h as L,i as M,j as N}from"./vendor.8cc6d8fd.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}};E();const F=f("Home"),I=f(" | "),O=f("About"),S=h({setup(o){return(e,s)=>{const n=v("router-link"),t=v("router-view");return g(),_(T,null,[d("p",null,[p(n,{class:"rlink",to:"/"},{default:m(()=>[F]),_:1}),I,p(n,{class:"rlink",to:"/about"},{default:m(()=>[O]),_:1})]),p(t)],64)}}});class V{constructor(e){l(this,"el");l(this,"ctx");l(this,"w");l(this,"h");this.el=e,this.ctx=e.getContext("2d"),this.w=e.width,this.h=e.height,this.drawGrid()}drawGrid(){this.ctx.moveTo(0,this.h/2),this.ctx.lineTo(this.w,this.h/2),this.ctx.stroke()}drawAudio(e){const s=e.getChannelData(0),n=s.slice().sort(),t=n[0],r=n[n.length-1],a=e.length/this.w;console.log(t,r);for(let i=0;i<this.w;i++){const u=s.slice(i*a,(i+1)*a).sort(),w=u[0],y=u[u.length-1],c=this.h/2;this.ctx.moveTo(i,c-y*c),this.ctx.lineTo(i,c),this.ctx.stroke(),this.ctx.moveTo(i,c-w*c),this.ctx.lineTo(i,c),this.ctx.stroke()}}}var B=(o,e)=>{const s=o.__vccOpts||o;for(const[n,t]of e)s[n]=t;return s};class W extends k{constructor(){super(...arguments);l(this,"waveformCanvas")}mounted(){console.log("Hi"),this.waveformCanvas=new V(this.$refs.canvas)}async onDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.items)for(let s=0;s<e.dataTransfer.items.length;s++){const n=e.dataTransfer.items[s];if(n.kind=="file"){const t=n.getAsFile();console.log(`File Dropped: ${t.name}
- LastModified: ${t.lastModified}
- Size: ${t.size}
- Type: ${t.type}`);const r=await t.arrayBuffer(),i=await new AudioContext().decodeAudioData(r);this.waveformCanvas.drawAudio(i),console.log(i)}else C.error(`Error: The item dropped must be a file, not a ${n.kind}`)}}}const j=W,x=o=>(D("data-v-2ff75016"),o=o(),A(),o),z={id:"home"},G=x(()=>d("div",{class:"usage"}," Welcome to the ",-1)),P=x(()=>d("span",{class:"drop-label"},"Drop Here",-1)),q=[P],K={class:"waveform"},R={ref:"canvas"};function J(o,e,s,n,t,r){return g(),_("div",z,[G,d("div",{class:"drop-box unselectable",onDragover:e[0]||(e[0]=a=>a.preventDefault()),onDrop:e[1]||(e[1]=(...a)=>o.onDrop&&o.onDrop(...a))},q,32),d("div",K,[d("canvas",R,null,512)])])}var Q=B(j,[["render",J],["__scopeId","data-v-2ff75016"]]);const U=h({setup(o){return(e,s)=>" This is an about page. "}}),X=[{path:"/",name:"Home",component:Q},{path:"/about",name:"About",component:U}],Y=H({history:L(),routes:X});M(S).use(Y).use(N).mount("#app");
