var w=Object.defineProperty;var x=(r,e,o)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var i=(r,e,o)=>(x(r,typeof e!="symbol"?e+"":e,o),o);import{d as u,c as f,a as c,b as d,w as h,F as y,e as p,r as _,o as m,V as b,E as $,p as C,f as k,g as T,h as D,i as A,j as H}from"./vendor.8cc6d8fd.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}};I();const L=p("Home"),S=p(" | "),M=p("About"),N=u({setup(r){return(e,o)=>{const n=_("router-link"),t=_("router-view");return m(),f(y,null,[c("p",null,[d(n,{class:"rlink",to:"/"},{default:h(()=>[L]),_:1}),S,d(n,{class:"rlink",to:"/about"},{default:h(()=>[M]),_:1})]),d(t)],64)}}}),E="pink";class F{constructor(e){i(this,"el");i(this,"ctx");i(this,"w");i(this,"h");this.el=e,this.ctx=e.getContext("2d");const o=window.getComputedStyle(e);this.w=e.width=parseInt(o.width.replace("px","")),this.h=e.height=parseInt(o.height.replace("px","")),this.drawGrid()}drawGrid(){this.ctx.moveTo(0,this.h/2),this.ctx.lineTo(this.w,this.h/2),this.ctx.stroke()}drawAudio(e){const o=e.getChannelData(0),n=e.length/this.w,t=this.h/2;for(let s=0;s<this.w;s++){const a=o.slice(s*n,(s+1)*n).sort(),l=a[0],g=a[a.length-1];this.ctx.strokeStyle=E,this.ctx.moveTo(s,t-g*t),this.ctx.lineTo(s,t-l*t),this.ctx.stroke()}}}var O=(r,e)=>{const o=r.__vccOpts||r;for(const[n,t]of e)o[n]=t;return o};class V extends b{constructor(){super(...arguments);i(this,"waveformCanvas")}mounted(){console.log("Hi"),this.waveformCanvas=new F(this.$refs.canvas)}async onDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.items)for(let o=0;o<e.dataTransfer.items.length;o++){const n=e.dataTransfer.items[o];if(n.kind=="file"){const t=n.getAsFile();console.log(`File Dropped: ${t.name}
- LastModified: ${t.lastModified}
- Size: ${t.size}
- Type: ${t.type}`);const s=await t.arrayBuffer(),l=await new AudioContext().decodeAudioData(s);this.waveformCanvas.drawAudio(l),console.log(l)}else $.error(`Error: The item dropped must be a file, not a ${n.kind}`)}}}const B=V,v=r=>(C("data-v-167fb1b5"),r=r(),k(),r),W={id:"home"},j=v(()=>c("div",{class:"usage"}," Welcome to the ",-1)),z=v(()=>c("span",{class:"drop-label"},"Drop Here",-1)),G=[z],P={class:"waveform"},q={ref:"canvas"};function K(r,e,o,n,t,s){return m(),f("div",W,[j,c("div",{class:"drop-box unselectable",onDragover:e[0]||(e[0]=a=>a.preventDefault()),onDrop:e[1]||(e[1]=(...a)=>r.onDrop&&r.onDrop(...a))},G,32),c("div",P,[c("canvas",q,null,512)])])}var R=O(B,[["render",K],["__scopeId","data-v-167fb1b5"]]);const J=u({setup(r){return(e,o)=>" This is an about page. "}}),Q=[{path:"/",name:"Home",component:R},{path:"/about",name:"About",component:J}],U=T({history:D(),routes:Q});A(N).use(U).use(H).mount("#app");
